#data: prec_mu_c, HNscale_c, yh, nh, sigma

model{
  #hyperparameters
  mu_c ~ dnorm(0,prec_mu_c)
  #exchangeability
  prec_tau <- HNscale_c^-2
  tau_c ~ dnorm(0,prec_tau) I(0,)
  prec_c <- tau_c^-2

  #historical controls
  for(i in 1:length(yh))
  {
    epsilon[i] ~ dnorm(0,prec_c)
    prec_yh[i] <- nh[i] / (sigma^2)
    yh[i] ~ dnorm(theta_h[i],prec_yh[i])
    theta_h[i] <- mu_c + epsilon[i]
  }
}

